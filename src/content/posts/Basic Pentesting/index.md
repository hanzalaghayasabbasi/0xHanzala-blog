---
title: Basic Pentesting Writeup - TryHackMe
published: 2023-09-16
description: 'A walkthrough of the Basic Pentesting room on TryHackMe, covering enumeration, brute forcing, and privilege escalation.'
image: './cover.jpg'
tags: [TryHackMe, Enumeration, PrivEsc]
category: 'TryHackMe'
draft: false
---



## Getting Started

This machine is designed to help you practice **web application exploitation** and **Linux privilege escalation**. After deploying the machine, you'll be provided with a vulnerable machine IP. This is a grey-box assessment; the only information provided is the company name and the server’s IP.

Start by pinging the deployed machine or use an Nmap host discovery scan to ensure it's up.

![ping](https://miro.medium.com/v2/resize\:fit:1400/format\:webp/1*75aaZ5bkhiNZ8oBPe8DXjA.png)

Use the following Nmap scan to enumerate services:

![nmap\_scan](https://miro.medium.com/v2/resize\:fit:1400/format\:webp/1*MtOAQNb3jrvWlQCMqgdP2g.png)

Scan reveals 7 open ports:

![nmap\_result](https://miro.medium.com/v2/resize\:fit:1400/format\:webp/1*ts7sPKxgjPxpA_jS2BbOJQ.png)

---

## Web Enumeration

Visit port **80**, and you'll see:

![port\_80](https://miro.medium.com/v2/resize\:fit:1288/format\:webp/1*vso3HkLxpM6mnrGTv-KWaA.png)

Inspect the page source and find a comment:

![comment](https://miro.medium.com/v2/resize\:fit:1362/format\:webp/1*e3WZhnBA06SyoWa5L7S5FQ.png)

Run directory busting on port 80 to find hidden files:

![directory\_busting](https://miro.medium.com/v2/resize\:fit:1400/format\:webp/1*xXyFqpwYFdRPeT9OxIDSQA.png)

Discovered files: `dev.txt` and `j.txt`

![page\_development](https://miro.medium.com/v2/resize\:fit:1120/format\:webp/1*7TI5KkdUG0b3xYT2ej5qHg.png)

**dev.txt** content:

![dev.txt](https://miro.medium.com/v2/resize\:fit:1400/format\:webp/1*-FRJI7WgH59Q3uPJks_pNw.png)

**j.txt** gives a hint that J uses a weak password:

![j.txt](https://miro.medium.com/v2/resize\:fit:1400/format\:webp/1*TnGcTqijs_Fkq7JCfRdPwA.png)

**Q1: What is the name of the hidden directory on the web server (enter name without /)?**
**Ans:** development

---

## SMB Enumeration

List available shares using `smbclient`:

![LIST\_SHAREFOLDER](https://miro.medium.com/v2/resize\:fit:1400/format\:webp/1*FyMAkv6aGVTVc5JUQThYYQ.png)

Connect to the `anonymous` share and download `staff.txt`:

![Anonymous folder](https://miro.medium.com/v2/resize\:fit:1400/format\:webp/1*CbBUDAyI66kDv7QYuSvQog.png)

`staff.txt` reveals J’s username: **jan**

![staff.txt](https://miro.medium.com/v2/resize\:fit:1400/format\:webp/1*8Q7dvGGnjhpPs49y1FxG9A.png)

**Q2: What is the username?**
**Ans:** jan

---

## Brute Forcing SSH Login

Use Hydra to brute force Jan’s SSH password:

```bash
hydra -l jan -P rockyou.txt ssh://<MACHINE_IP> -I -F -V
```

Successful login found:

![result hydra](https://miro.medium.com/v2/resize\:fit:1400/format\:webp/1*XKHp2UWOLjdFgn0Gs7jWCQ.png)

**Q3: What is the password?**
**Ans:** armando

SSH into the machine as Jan, check `/etc/passwd` to find another user: **kay**

![password\_file](https://miro.medium.com/v2/resize\:fit:1400/format\:webp/1*3mrIo0Vv6ecHZL9emnHU0A.png)

**Q4: What service do you use to access the server? (abbreviation, all caps)**
**Ans:** SSH
**Q5: What is the name of the other user you found? (all lowercase)**
**Ans:** kay

---

## Privilege Escalation

In Kay’s home directory, there's a file `pass.bk`, but no read permission:

![pass.bak](https://miro.medium.com/v2/resize\:fit:1400/format\:webp/1*4URv0B1HXomxpHbF-XPYyQ.png)

List hidden files. We see `.ssh`, which may contain Kay’s private key:

![ls](https://miro.medium.com/v2/resize\:fit:1400/format\:webp/1*OBz5sNCFPOV1iQtM3jpjyg.png)

`id_rsa` (Kay’s private key) is found:

![id\_rsa](https://miro.medium.com/v2/resize\:fit:700/format\:webp/1*-vTJG360ypwk5vPFqdKNuQ.png)

Save the key, convert it for John:

![output.txt](https://miro.medium.com/v2/resize\:fit:1400/format\:webp/1*kuE0fvZs0I2gMpeDfpHEHg.png)

Use John to brute-force the passphrase:

![john\_bruteforce](https://miro.medium.com/v2/resize\:fit:1400/format\:webp/1*SsMcjNCuiXOvnhFQbWcAJw.png)

Login as Kay using the cracked private key and passphrase. You now have access to `pass.bk`:

![pass.bk](https://miro.medium.com/v2/resize\:fit:1390/format\:webp/1*IVurOecgtloQZibvRxHjCw.png)

**Q6: What is the final password you obtain?**
**Ans:** `heresareallystrongpasswordthatfollowsthepasswordpolicy$$`

---


* Brute-forced private key passphrases
* Gained root through SSH and file analysis

Nice work reaching the end!

---

Let me know if you'd like this exported to Markdown or formatted for a specific platform (e.g., Medium, Dev.to, GitHub Pages).
